(()=>{var o={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return o.d(r,{a:r}),r},d:(t,r)=>{for(var e in r)o.o(r,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:r[e]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t),r:o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}},t={};(()=>{"use strict";o.r(t);const r=flarum.core.compat["common/extend"],e=flarum.core.compat["forum/app"];var n=o.n(e);const c=flarum.core.compat["forum/components/CommentPost"];var a=o.n(c);const s=flarum.core.compat["forum/components/DiscussionPage"];var i=o.n(s);const l=flarum.core.compat["forum/utils/DiscussionControls"];var u=o.n(l);const d=flarum.core.compat["forum/components/LogInModal"];var p=o.n(d);const f=flarum.core.compat["common/components/TextEditor"];var b=o.n(f);const v=flarum.core.compat["common/components/TextEditorButton"];var y=o.n(v);n().initializers.add("flarum/bbcode",(function(){(0,r.extend)(b().prototype,"toolbarItems",(function(o){var t=this;o.add("empty-two-squares",m(y(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[ETS][/ETS]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-6)},icon:"fa fa-comment-medical"},n().translator.trans("flarum-bbcode.forum.button_empty_two_squares"))),o.add("reply-to-see",m(y(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[REPLY][/REPLY]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fa fa-comment-medical"},n().translator.trans("flarum-bbcode.forum.button_reply_tooltip"))),o.add("timeline-icon",m(y(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[TLI=tag 标题]内容[/TLI]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fa fa-comment-medical"},n().translator.trans("flarum-bbcode.forum.button_timeline1_tooltip"))),o.add("timeline-color",m(y(),{onclick:function(){t.attrs.composer.editor.insertAtCursor("[TLC=#4d698e 标题]内容[/TLC]");var o=t.attrs.composer.editor.getSelectionRange();t.attrs.composer.editor.moveCursorTo(o[1]-8)},icon:"fa fa-comment-medical"},n().translator.trans("flarum-bbcode.forum.button_timeline2_tooltip")))})),(0,r.extend)(a().prototype,"content",(function(){n().session.user&&n().current.matches(i())?this.$(".reply2see_reply").off("click").on("click",(function(){return u().replyAction.call(n().current.get("discussion"),!0,!1)})):this.$(".reply2see_reply").off("click").on("click",(function(){return n().modal.show(p())}))}))}))})(),module.exports=t})();
//# sourceMappingURL=forum.js.map